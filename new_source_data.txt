# Примечания
* Распоряжение 118-2025
* Название изделия СБП-20-400
* Пароль доступа 3123

# Дополнительные сигналы с ICPDAS
0 (coil) - Контактор основного ввода (1 - Включен, 0 Выключен)
1 (coil) - RESERVED
2 (coil) - Контактор выхода (1 - Включен, 0 - Выключен)
3 (coil) - Контактор батареи (1 - Включен, 0 - Выключен)
4 (coil) - Авария вентиляции (1 - Нет аварии, 0 - Авария)

## Макросы
* Для команд записи используются кнопки и поля ввода, а также макросы начинающиеся на S_<номер регистра для записи>. Макросы цепляются к кнопкам и полям ввода, в том числе в "Настройках управления" соответствующего компонента, в подменю "После записи"
* Для команд чтения используются макросы W_<номер окна где применяется макрос>_MODBUS. Данные макросы цепляются на таймер в окне, где хотим производить чтение модбас регистров

## Компоненты
* Применяется прозрачный компонент, который располагается сверху полей ввода, которые должны быть защищены паролем. Если нет доступа, при нажатии на его появляется окно "Недостаточно прав доступа"

# Доработки, замечания
* Не найдено сообщение 2059 (0x80B)

Когда говорим про журнал (логи инвертора и выпрямителя), то 
* если говорим "Запись" - это значит в контексте емкости журнала (например 12/300)
* если говорим "Сообщение" - это значит в глобальном контексте (т.е. сообщение может иметь номер > емкости журнала, например сообщение номер 23100, а емкость может быть всего лишь 300)

При записи float16, в JUnimonitor сначала отсылаются команды функцией 6, а затем уже само значение (целое число, запятые обрезаются), но у меня сделано что и записывается и читается именно float16, т.е. при чтении делится на 10, а при записи умножается на 10 как в обычном float16

# Сигналы окна "Мнемосхема" 

*Звук аварии (относится к фоновому окну)*
148.4 (int16) - Авария выпрямителя
Срабатывает звук аварии когда 148.4 (Авария выпрямителя)

*Выпрямитель*
148.4 (int16) - Авария выпрямителя
148.0 (int16) - Выпрямитель выдает импульсы управления
148.1 (int16) - Ожидание АПВ
149.0 (int16) - Глубокий разряд батареи 
ВЫХОД выпрямителя работает если 149.0 (Глубокий разряд батареи) не установлен
Выпрямитель в работе если 148.0 (Выпрямитель выдает импульсы управления) И 148.1 (Ожидание АПВ)
Выпрямитель в аварии если 148.4 (Авария выпрямителя)

*Инвертор*
133.3 (int16) - Инвертор в работе
134.3 (int16) - Авария инвертора
134.5 (int16) - Идет синхронизация с резервом
133.3 = Инвертор в работе
134.3 = Авария инвертора

*Обводная линия (байпас)*
133.0 (int16) - Контактор обводной линии активен
134.1 (int16) - Приоритет резерва или байпас установлен в ручную (Надпись)
134.0 (int16) - Авария обводной линии

*Стат. ключ*
133.1 (int16) - На резерве
133.1 или 134.1 = На резерве
133.2 = На инверторе 

*Ввод резерва*
133.5 (int16) - Резерв активен, вся линия до статик ключа

*Батарея*
Батарея работает если НЕ установлены биты
	148.2 - Обратное чередование фаз
	148.8 - Работа в режиме рекуперации
	148.9 - Работа в параллельном режиме
	148.15 - Низкий заряд АБ
	149.0 - Глубокий разряд АБ
	149.3 - ?
149.0 (int16) - Глубокий разряд батареи
148.11 (int16) - Заряд АБ
Авария батареи если 149.0 (Глубокий разряд батареи) или 148.11 (Заряд АБ)

*Выход*
133.1 (int16) - Выход активен (в норме)
133.2 (int16) - Стат. ключ на инверторе
Выход подсвечивается если 133.1 (выход в норме) и  133.2 (стат. ключ. на инверторе)

*Основной ввод*
148.3 (int16, inverse) - Вход активен (в норме)

# Локальные адреса
## RW Локальные адреса
100004 - Задержка между запросами чтения модбас, мс
100005 - Адрес модбас для COM2
100006 - Количество ошибок после которых возникает авария "Нет связи"
100007 - Количество регистров для чтения
100008 - Задержка перед записью (для того чтобы флаг записи могли увидеть макросы чтения), мс

## LW Локальные адреса
*Общее*
100000 - Переключатель базовых окон (Управление от ПЛК)
100001 - Доступ (доступ к вводу уставок, калибровок, меток и т.д.)
100002 - Переключатель подокон 
100003 - Переключатель подменю
100004 - RESERVED
100005 - RESERVED
100006 - RESERVED
100007.0 - Бит вызывает появление окна (о том что пароль введен неверно)
100008 - Пароль введенный пользователем для сравнения с админ паролем
100009 - Номер окна уведомления для вызова
100011 - Таймер сброса прав админа
100012.0 - Сделать скриншот (не используется)
100012.1 - Активировать кнопку скриншота (не используется) (правый верхний угол на панели), 1 - активирована, 0 - деактивирована
100014 - Признак что идет запись по модбас
100015 - Слово для регистра для записи по модбас
100016 - Слово для регистра для записи по модбас
100020 - Последний тест АБ. Секунда
100021 - Последний тест АБ. Минута
100022 - Последний тест АБ. Час
100023 - Последний тест АБ. День
100024 - Последний тест АБ. Месяц
100025 - Последний тест АБ. Год

100026 - Аварии модбас по окнам 
100027 - Аварии модбас по окнам 
Описание есть ли авария модбас связи по битам в соответствии с номер окна (1 - есть авария, 0 - нет аварии)
100026:
* 0 - Фоновое окно (Окно без номера)
* 1 - Мнемосхема с доп. сигналами от ICPDAS (1)
* 2 - Выпрямитель Состояния (112)
* 3 - Выпрямитель Уставки (111)
* 4 - Выпрямитель Регуляторы (113)
* 5 - Выпрямитель Управление (114)
* 6 - Инвертор Состояния (151)
* 7 - Инвертор Уставки (153)
* 8 - Инвертор Измерения (152)
* 9 - Батарея Выравнивающий заряд (141)
* 10 - Батарея Термокомпенсация (142)
* 11 - Батарея Тест батареи (143)
* 12 - Калибровки Инвертор/Стат.ключ (101)
* 13 - Калибровки Выпрямитель (102)
* 14 - Параметры (4)
* 15 - Журнал Логи инвертора (162)
100027:
* 0 - Журнал Логи выпрямителя (163)
* 1 - Настройки Связь (131)
* 2 - Мнемосхема с данными только от СБП (12)

*Мнемосхема*
100030 - Частота на выходе (если статический ключ на инверторе, то показывает частоту инвертора, если на резерве, то резерв, если байпас то нет частоты)

100102 - RESERVED
100103 - RESERVED
100104 - RESERVED
100105 - Батарея
100106 - Инвертор
100107 - Выпрямитель
100108 - Статический ключ

*Журнал контроллера выпрямителя*
200000-220335 - Здесь хранятся структуры сообщения, каждая структура имеет номер события который ставится в соответствие с номером события текущего прочитанного сообщения
250000-250061 - Хранится строка для отображения текущего сообщения журнала
250062 - Текущая читаемая запись (в контексте емкости журнала, например 20 из 1000)
250063 - Значение заполненности журнала (в контексте емкости журнала, насколько забит журнал, например 23/1000) 
250064 - Флаг отслеживания появления новой записи журнала
250065 - Время текущего сообщения. Секунды
250066 - Время текущего сообщения. Минуты
250067 - Время текущего сообщения. Часы
250068 - Дата текущего сообщения. День
250069 - Дата текущего сообщения. Месяц
250070 - Дата текущего сообщения. Год
250071 - Номер события текущего сообщения
250072 - Тип текущего сообщения
250073 - Номер текущего сообщения

*Журнал контроллера инвертора*
200000-220335 - Здесь хранятся структуры сообщения, каждая структура имеет номер события который ставится в соответствие с номером события текущего прочитанного сообщения
250100-250161 - Хранится строка для отображения текущего сообщения журнала
250162 - Текущая читаемая запись (в контексте емкости журнала, например 20 из 1000)
250163 - Значение заполненности журнала (в контексте емкости журнала, насколько забит журнал, например 23/1000) 
250164 - Флаг отслеживания появления новой записи журнала
250165 - Время текущего сообщения. Секунды
250166 - Время текущего сообщения. Минуты
250167 - Время текущего сообщения. Часы
250168 - Дата текущего сообщения. День
250169 - Дата текущего сообщения. Месяц
250170 - Дата текущего сообщения. Год
250171 - Номер события текущего сообщения
250172 - Тип текущего сообщения
250173 - Номер текущего сообщения

*Аварии инвертора и стат. ключа*
100110 - Регистр аварий и состояний инвертора
* 0 - Нет аварий
* 1 - Низкий заряд батареи
* 2 - Нет связи с платой вв/выв
* 3 - Перегрузка инвертора более 110%
* 4 - Перегрузка инвертора более 115%
* 5 - Перегрузка инвертора более 120%
* 6 - Перегрузка инвертора более 125%
* 7 - Сбой источника питания
* 8 - Снижение R изоляции выходных цепей
* 9 - Сбой модуля IGBT фаза U
* 10 - Сбой модуля IGBT фаза V
* 11 - Сбой модуля IGBT фаза W
* 12 - Отключение АПВ (более 3 раз)
* 13 - Перегрев радиатора инвертора
* 14 - Вход инвертора не в норме
* 15 - Ui>Umax, Повышенное напряжение на выходе
100111 - Регистр аварий и состояний инвертора
* 0 - Uu > Upk, Пиковое напряжение фаза U
* 1 - Uv > Upk, Пиковое напряжение фаза V
* 2 - Uw > Upk, Пиковое напряжение фаза W
* 3 - Перегрузка инвертора более 110%
* 4 - Перегрузка инвертора более 115%
* 5 - Перегрузка инвертора более 120%
* 6 - Перегрузка инвертора более 125%
* 7 - Напряжение инвертора менее 80%
* 8 - АВАРИЙНОЕ ОТКЛЮЧЕНИЕ! (EPO)
* 9 - Инвертор в режиме ожидания
* 10 - Iu > Ipk, Пиковый ток фаза U
* 11 - Iv > Ipk, Пиковый ток фаза V
* 12 - Iw > Ipk, Пиковый ток фаза W
* 13 - КЗ в нагрузке
* 14 - Перегорел предохранитель DC звена
* 15 - Включены зарядные резисторы DC звена
100112 - Регистр аварий и состояний стат. ключа
* 0 - Нет аварий
* 1 - Отключение АПВ статического ключа
* 2 - Переключение стат. ключа на резерв
* 3 - Переключение стат. ключа на инвертор
* 4 - Более 5 переключений за 45 сек
* 5 - Перегрузка на выходе статического ключа
* 6 - Вход резерва не в норме
* 7 - Ошибка чередования фаз
* 8 - BY-PASS включен
* 9 - Тиристор не работает фаза U
* 10 - Тиристор не работает фаза
* 11 - Тиристор не работает фаза W
* 12 - Обратный ток в резервной сети
* 13 - Перегрев радиатора статического ключа
* 14 - АВАРИЙНОЕ ОТКЛЮЧЕНИЕ! (EPO)

*Меню*
- Мнемосхема
- Выпрямитель
  * Состояние
  * Уставки (Выпрямитель, Защита)
  * Регуляторы
  * Управление (Вентиляторы, тесты, ручной режим, дискретные выходы)
- Инвертор
  * Состояние (инвертор, стат. ключ)
  * Измерения (инвертор, стат. ключ)
  * Уставки (инвертор, стат. ключ)
- Батарея 
  * Выравнивающий заряд
  * Термокомпенсация
  * Тест батареи
- Калибровки
  * Инвертор/Стат.ключ
  * Выпрямитель
- Параметры
  * Дата и время
  * Параметры UART
- Журнал
  * События
  * Логи выпрямителя
  * Логи инвертора

*Сигналы для подсветки элементов мнемосхемы*
100100.0 (int16) - Основной ввод активен
100100.1 (int16) - Выход активен
100100.2 (int16) - Резервный ввод активен
100100.3 (int16) - Контактор байпаса активен
100100.4 (int16) - Линия выхода выпрямителя активна
100100.5 (int16) - Линия выхода батареи активна
100100.6 (int16) - Линия ввода инвертора активна
100100.7 (int16) - Линия выхода инвертора активна
100100.8 (int16) - Линия выхода контактора байпаса активна
100100.9 (int16) - Линия выхода статического ключа активна
100100.10 (int16) - Признак что идет синхронизация с резервом (будет мигать линия от ввода резерва до статик ключа)
100100.11 (int16) - Линия резерва после контактора
100100.12 (int16) - Линия основного ввода после контактора
100100.13 (int16) - Линия выхода контактора батареи
100100.14 (int16) - Линии из контактора выхода
100100.15 (int16) - Линия резерва подсвечивается если включена обводная линия или включен сам резерв
100104 (int16) - RESERVED
100105 (int16) - Состояние батареи #0 - Не активна, 1 - В работе, 2 - Авария
100106 (int16) - Состояние инвертора #0 - Не активен, 1 - В работе, 3 - Авария
100107 (int16) - Состояние выпрямителя #0 - Не активен, 1 - В работе, 2 - Авария
100108 (int16) - Состояние статического ключа #0 - Не активен, 2 - На инверторе, 3 - На резерве

# Модбас адреса
## Состояния СБП
*Выпрямитель*
148.4 (int16) - Авария выпрямителя
148.0 (int16) - Выпрямитель в работе

*Инвертор*
133.3 (int16) - Инвертор в работе
134.3 (int16) - Авария инвертора
134.5 (int16) - Идет синхронизация линии инвертора с линией резерва

*Обводная линия*
133.0 (int16) - Контактор обводной линии активен
134.0 (int16) - Авария обводной линии

*Статический ключ*
134.1 (int16) - Установлен приоритет резерва # Статический ключ переходит на резерв
133.1 (int16) - Статический ключ на резерве
133.2 (int16) - Статический ключ на инверторе 

*Ввод резерва*
133.5 (int16) - Ввод резерва в норме

*Батарея*
149.0 (int16) - Глубокий разряд батареи
3 (coil) - Контактор батареи (1 - Включен, 0 - Выключен) # Дополнительный дискретный сигнал, slave id - 2

*Основной ввод*
0 (coil 2) - Контактор основного ввода (1 - Включен, 0 Выключен) # Дополнительный дискретный сигнал, slave id - 2
148.3 (int16) - Основной ввод в норме # 0 - В норме, 1 - Не в норме

*Выход*
2 (coil 2) - Контактор выхода (1 - Включен, 0 - Выключен) # Дополнительный дискретный сигнал, slave id - 2

## Команды управления СБП
cmd (int16,write 6 184 185 186, value 0 895 200) - Приоритет резерва
cmd (int16,write 6 178 179 180, value 0 639 101) - Команда остановки СБП
cmd (int16,write 6 178 179 180  181 182 183  184 185 186, value 0 639 999  0 767 999  0 895 999) - Команда сброса аварий СБП
cmd (int16,write 6 178 179 180, value 0 639 100) - Команда пуска СБП

## Измерения
*Инвертор*
1036 (float16) - Мощность на выходе инвертора, кВА. Фаза U
1037 (float16) - Мощность на выходе инвертора, кВА. Фаза V
1038 (float16) - Мощность на выходе инвертора, кВА. Фаза W
1024 (float16) - Напряжение на выходе инвертора, В. Фаза U
1025 (float16) - Напряжение на выходе инвертора, В. Фаза V
1026 (float16) - Напряжение на выходе инвертора, В. Фаза W
1027 (float16) - Входной ток инвертора фаза A, А
1028 (float16) - Входной ток инвертора фаза B, А
1029 (float16) - Входной ток инвертора фаза C, А
1030 (float16) - Частота выхода инвертора, Гц

*Выпрямитель*
1152 (float16) - Напряжение на входе выпрямителя, В. Фаза AB
1153 (float16) - Напряжение на входе выпрямителя, В. Фаза BC
1154 (float16) - Напряжение на входе выпрямителя, В. Фаза CA
1155 (float16) - Частота на входе выпрямителя, Гц

1157 (float16) - Ток на выходе выпрямителя, А
1156 (float16) - Напряжение на выходе выпрямителя, В
1159 (float16) - Мощность на выходе выпрямителя, кВт

*Батарея*
1158 (float16) - Ток батареи, А

*Резерв*
1282 (float16) - Напряжение резерва, В. Фаза W
1281 (float16) - Напряжение резерва, В. Фаза V
1280 (float16) - Напряжение резерва, В. Фаза U
1289 (float16) - Частота резерва, Гц

*Выход*
1286 (float16) - Ток выхода, А. Фаза U
1287 (float16) - Ток выхода, А. Фаза V
1288 (float16) - Ток выхода, А. Фаза W
1039 (float16) - Косинус на выходе, Fx10
1283 (float16) - Напряжение выхода, В. Фаза U
1284 (float16) - Напряжение выхода, В. Фаза V
1285 (float16) - Напряжение выхода, В. Фаза W

## Дата и время
1147 (int16, write) - Установка времени. Часы
1146 (int16, write) - Установка времени. Минута
1145 (int16, write) - Установка времени. Секунды
1148 (int16, write) - Установка времени. День
1149 (int16, write) - Установка времени. Месяц
1150 (int16, write) - Установка времени. Год

## Журнал выпрямителя
// offset 1600
1604 (int16) - Статус чтения сообщения
1605 (uint16) - Емкость журнала контроллера (количество вмещаемых записей)
1606 (uint16) - Номер новой записи в журнале
1607 (uint16,write) - Регистр запроса получения сообщения по номеру в журнале
1608 (uint32) - ПОРЯДКОВЫЙ номер текущего сообщения в журнале #После переполнения журнала номер сообщения становится больше 'максимального количества сообщений в журнале'
1610 (uint32) - Упакованное дата и время записи
1612 (uint16) - Номер события сообщения

## Журнал инвертора
// offset 1468
1472 (int16) - Статус чтения сообщения
1473 (uint16) - Емкость журнала контроллера
1474 (uint16) - Номер новой записи в журнале
1475 (uint16,write) - Регистр запроса получения сообщения по номеру в журнале
1476 (uint32) - ПОРЯДКОВЫЙ номер текущего сообщения в журнале #После переполнения журнала номер сообщения становится больше 'максимального количества сообщений в журнале'
1478 (uint32) - Упакованное дата и время записи
1480 (uint16) - Номер события #Номеру события ставится в соответствие то или иное сообщение

## Состояния выпрямителя

*Мгновенные значения флагов выпрямителя*
144.0 (int16) - Перегрев входного трансформатора
144.1 (int16) - Низкая амплитуда АС для рекуперации
144.2 (int16) - Рекуператор: низкое напряжение на АБ
144.3 (int16) - Напряжение Uab ниже нормы
144.4 (int16) - Напряжение Uab выше нормы
144.5 (int16) - Напряжение Ubc ниже нормы
144.6 (int16) - Напряжение Ubc выше нормы
144.7 (int16) - Напряжение Uca ниже нормы
144.8 (int16) - Напряжение Uca выше нормы
144.9 (int16) - Несимметричное входное напряжение
144.10 (int16) - Перегрузка
144.11 (int16) - Динамическое перенапряжение
144.12 (int16) - Статическое перенапряжение
144.13 (int16) - Короткое замыкание в нагрузке
144.14 (int16) - Сбой EEPROM
144.15 (int16) - Пульсации в выходном напряжении
145.0 (int16) - Аварийный останов(EPO)
145.1 (int16) - Нет синхронизации с сетью
145.2 (int16) - Внутреннее короткое замыкание
145.3 (int16) - Нет выходного напряжения
145.4 (int16) - Отключение по перегрузке
145.5 (int16) - Перегрев охладителя тиристоров
145.6 (int16) - Ud не соответствует режиму
145.7 (int16) - Ток рекуператора меньше 10%
145.8 (int16) - Таймаут датчика температуры АБ
145.9 (int16) - Обрыв датчика температуры АБ
145.10 (int16) - Разомкнут вводной автомат выпрямителя
145.11 (int16) - Сгорел предохранитель
145.12 (int16) - СБОЙ СИСТЕМЫ УПРАВЛЕНИЯ
145.13 (int16) - Обрыв аналогового датчика температуры охладителя тиристоров
145.14 (int16) - Короткое замыкание на АБ
145.15 (int16) - Перегрев выходного реактора

*Глобальные флаги состояния выпрямителя*
148.0 (int16) - Выпрямитель в работе
148.1 (int16) - Ожидание АПВ
148.2 (int16) - Обратное чередование фаз
148.3 (int16) - Входная сеть # 0 - В норме, 1 - Не в норме
148.4 (int16) - Авария
148.5 (int16) - Перегрузка
148.6 (int16) - Сгорел предохранитель
148.11 (int16) - Заряд АБ
148.12 (int16) - Активен режим ускоренного заряда
148.13 (int16) - АБ разряжается
148.14 (int16) - Тест АБ
148.15 (int16) - Низкий заряд АБ
149.0 (int16) - Глубокий разряд АБ
4 (coil 2) - Авария вентиляции # 1 - Нет аварии, 0 - Авария. Дополнительный дискретный сигнал, modbus slave = 2

## Уставки выпрямителя
*Выпрямитель*
1201 (uint16,write) - Версия ПО
640 (int16) - Номинальное значение напряжения сети, В #0 - 127В, 1 - 220В, 2 - 230В, 3 - 380В, 4 - 400В, 5 - 415В
640 (int16,write,value 0) - Установить номинальное значение напряжения сети - 127В
640 (int16,write,value 1) - Установить номинальное значение напряжения сети - 220В
640 (int16,write,value 2) - Установить номинальное значение напряжения сети - 230В
640 (int16,write,value 3) - Установить номинальное значение напряжения сети - 380В
640 (int16,write,value 4) - Установить номинальное значение напряжения сети - 400В
640 (int16,write,value 5) - Установить номинальное значение напряжения сети - 415В
641 (int16,write) - Заданное значение выходного напряжения в базовом режиме, В
642 (int16,write) - Заданное значение выходного напряжения на повышенном уровне, В
644 (int16,write) - Номинальное значение выходного тока, А
645 (int16,write) - Зарядный ток АБ, А
646 (int16,write) - Стабилизация напряжения на повышенном уровне, мин
647 (int16,write) - Время нарастания выходного напряжения или тока при включении, с

*Защита*
648 (int16,write) - Уровень защиты от повышения входного напряжения, %
649 (int16,write) - Уровень защиты от понижения входного напряжения, %
650 (int16,write) - Задержка времени на включение выпрямителя при АВП, с
651 (int16,write) - Уровень защиты от статического повышения напряжения на выходе, %
652 (int16,write) - Уровень защиты от динамического повышения напряжения на выходе, %
653 (int16,write) - Уровень ограничения выходного тока, %
654 (int16,write) - Время работы выпрямителя в режиме токоограничения, с
655 (int16,write) - Уровень защиты от повышения пульсации выходного напряжения, %
684 (int16,write) - Время удержания КЗ, с
662 (int16,write) - Напряжение низкий заряда АБ, В
663 (int16,write) - Напряжение глубокого разряда АБ, В

// Чтение данных
// 1201
// 640-641
// 642
// 644-645
// 646-647
// 648-649
// 650-651
// 652-653
// 654-655
// 662-663
// 684

## Регуляторы выпрямителя
672 (int16,write) - Коэффициент пропорциональной составляющей регулятора напряжения
673 (int16,write) - Коэффициент интегральной составляющей регулятора напряжения
674 (int16,write) - Коэффициент дифференциальной составляющей регулятора напряжения
675 (int16,write) - Постоянная времени фильтра регулятора напряжения, мс x 10
676 (int16,write) - Коэффициент пропорциональной составляющей регулятора тока
677 (int16,write) - Коэффициент интегральной составляющей регулятора тока
678 (int16,write) - Коэффициент дифференциальной составляющей регулятора тока
679 (int16,write) - Постоянная времени фильтра регулятора тока, мс x 10
680 (int16,write) - Коэффициент пропорциональной составляющей регулятора тока
681 (int16,write) - Коэффициент интегральной составляющей регулятора тока
682 (int16,write) - Коэффициент дифференциальной составляющей регулятора тока
683 (int16,write) - Постоянная времени фильтра регулятора батареи, мс x 10

// Чтение данных
// 672-673
// 674-675
// 676-677
// 678-679
// 680-681
// 682-683

## Управление выпрямителя
*Команды*
cmd (int16, write 6 181 182 183, value 0 767 999) - Сброс аварии выпрямителя

*Управление вентиляторами*
686 (int16,write) - Температура включения вентиляторов, °C
687 (int16,write) - Температура отключения выпрямителя, °C
688 (int16,write) - Гистерезис, °C
1202 (float16) - Температура охладителя, °C

*Тест вентиляторов*
cmd (int16,write 6 181 182 183, value 0 767 888) - Кнопка тест вентиляторов
cmd (int16,write 6 187 188 189, value 0 991 105) - Кнопка тест реле

*Ручной режим*
741 (int16) - Ручной режим #0 - Выключен, 1 - Включен
741 (int16,write,value 0) - Выключить ручной режим
741 (int16,write,value 1) - Включить ручной режим
742 (int16,write) - Управление углом

## Настройка дискретных выходов
946 (int16) - Дискретный выход 1
189 (int16,write 6 187 188, value 0 946) - Уставка дискретного выхода 1
935 (int16) - Задержка срабатывания дискретного выхода 1, с
189 (int16,write 6 187 188, value 0 935) - Уставка задержки срабатывания 1, с

947 (int16) - Дискретный выход 2
189 (int16,write 6 187 188, value 0 947) - Уставка дискретного выхода 2
936 (int16) - Задержка срабатывания дискретного выхода 2, с
189 (int16,write 6 187 188, value 0 936) - Уставка задержки срабатывания 2, с

948 (int16) - Дискретный выход 3
189 (int16,write 6 187 188, value 0 948) - Уставка дискретного выхода 3
937 (int16) - Задержка срабатывания дискретного выхода 3, с
189 (int16,write 6 187 188, value 0 937) - Уставка задержки срабатывания 3, с

949 (int16) - Дискретный выход 4
189 (int16,write 6 187 188, value 0 949) - Уставка дискретного выхода 4
938 (int16) - Задержка срабатывания дискретного выхода 4, с
189 (int16,write 6 187 188, value 0 938) - Уставка задержки срабатывания 4, с

950 (int16) - Дискретный выход 5
189 (int16,write 6 187 188, value 0 950) - Уставка дискретного выхода 5
939 (int16) - Задержка срабатывания дискретного выхода 5, с
189 (int16,write 6 187 188, value 0 939) - Уставка задержки срабатывания 5, с

951 (int16) - Дискретный выход 6
189 (int16,write 6 187 188, value 0 951) - Уставка дискретного выхода 6
940 (int16) - Задержка срабатывания дискретного выхода 6, с
189 (int16,write 6 187 188, value 0 940) - Уставка задержки срабатывания 6,
 
952 (int16) - Дискретный выход 7
189 (int16,write 6 187 188, value 0 952) - Уставка дискретного выхода 7
941 (int16) - Задержка срабатывания дискретного выхода 7, с
189 (int16,write 6 187 188, value 0 941) - Уставка задержки срабатывания 7, 

953 (int16) - Дискретный выход 8
189 (int16,write 6 187 188, value 0 953) - Уставка дискретного выхода 8
942 (int16) - Задержка срабатывания дискретного выхода 8, с
189 (int16,write 6 187 188, value 0 942) - Уставка задержки срабатывания 8,
 
954 (int16) - Дискретный выход 9
189 (int16,write 6 187 188, value 0 954) - Уставка дискретного выхода 9
943 (int16) - Задержка срабатывания дискретного выхода 9, с
189 (int16,write 6 187 188, value 0 943) - Уставка задержки срабатывания 9, 

955 (int16) - Дискретный выход 10
189 (int16,write 6 187 188, value 0 955) - Уставка дискретного выхода 10
944 (int16) - Задержка срабатывания дискретного выхода 10, с
189 (int16,write 6 187 188, value 0 944) - Уставка задержки срабатывания 10, 

## Состояния дискретных выходов
149.1 (int16) - Состояние дискретного выхода 1
149.2 (int16) - Состояние дискретного выхода 2
149.3 (int16) - Состояние дискретного выхода 3
149.4 (int16) - Состояние дискретного выхода 4
149.5 (int16) - Состояние дискретного выхода 5

## Состояния дискретных входов
149.10 (int16) - Состояние дискретного входа K1
149.11 (int16) - Состояние дискретного входа K2
149.12 (int16) - Состояние дискретного входа K3
149.13 (int16) - Состояние дискретного входа K4
149.14 (int16) - Состояние дискретного входа K5
149.15 (int16) - Состояние дискретного входа K6

## Состояния термодатчиков
149.6 (int16) - Термодатчик 1 мост 1
149.7 (int16) - Термодатчик 2 мост 1
149.8 (int16) - Термодатчик 1 мост 2
149.9 (int16) - Термодатчик 2 мост 2

## Управление инвертора
cmd (int16, write 6 178 179 180, value 0 639 999) - Сброс аварии инвертора

## Управление статического ключа
cmd (int16, write 6 184 185 186, value 0 895 999) - Сброс аварии статического ключа

## Состояния инвертора
1035 (int16) - Состояние инвертора # 0 - Нет аварий, 1 - Низкий заряд батареи, 2 - Нет связи с платой вв/выв, 3 - Перегрузка инвертора более 110%, 4 - Перегрузка инвертора более 115%, 5 - Перегрузка инвертора более 120%, 6 - Перегрузка инвертора более 125%, 7 - Сбой источника питания, 8 - Снижение R изоляции выходных цепей, 16 - Сбой модуля IGBT фаза U, 17 - Сбой модуля IGBT фаза V, 18 - Сбой модуля IGBT фаза W, 22 - Отключение АПВ (более 3 раз), 23 - Перегрев радиатора инвертора, 24 - Вход инвертора не в норме, 25 - Ui>Umax, Повышенное напряжение на выходе, 26 - Uu > Upk, Пиковое напряжение фаза U, 27 - Uv > Upk, Пиковое напряжение фаза V, 28 - Uw > Upk, Пиковое напряжение фаза W, 29 - Перегрузка инвертора более 110%, 30 - Перегрузка инвертора более 115%, 31 - Перегрузка инвертора более 120%, 32 - Перегрузка инвертора более 125%, 33 - Напряжение инвертора менее 80%, 34 - АВАРИЙНОЕ ОТКЛЮЧЕНИЕ! (EPO), 35 - Инвертор в режиме ожидания, 36 - Iu > Ipk, Пиковый ток фаза U, 37 - Iv > Ipk, Пиковый ток фаза V, 38 - Iw > Ipk, Пиковый ток фаза W, 39 - КЗ в нагрузке, 40 - Перегорел предохранитель DC звена, 41 - Включены зарядные резисторы DC звена

## Состояния статического ключа
*Состояние статического ключа*
1290 (int16) - Состояние статического ключа # 0 - Нет аварий, 1 - Отключение АПВ статического ключа, 2 - Переключение стат. ключа на резерв, 3 - Переключение стат. ключа на инвертор, 4 - Более 5 переключений за 45 сек, 5 - Перегрузка на выходе статического ключа, 6 - Вход резерва не в норме, 7 - Ошибка чередования фаз, 8 - BY-PASS включен, 9 - Тиристор не работает фаза U, 10 - Тиристор не работает фаза V, 11 - Тиристор не работает фаза W, 12 - Обратный ток в резервной сети, 16 - Перегрев радиатора статического ключа, 25 - АВАРИЙНОЕ ОТКЛЮЧЕНИЕ! (EPO)

## Уставки инвертора
1095 (uint16) - Версия ПО
518 (int16) - Минимальное напряжение звена постоянного тока, В
519 (int16) - Номинальное значение выходного напряжения, В
520 (int16) - Частота выходной сети инвертора, Гц
521 (int16) - Номинальная мощность СБП, кВА
522 (int16) - Температура перегрева, °C
523 (int16) - Ток перегрузки, %
525 (int16) - Максимальное напряжение звена постоянного тока, В
526 (int16) - Udc_ind, В
527 (int16) - Напряжение перезапуска, В
528 (int16) - Автоматический пуск инвертора #0 - Выключен, 1 - Включен
528 (int16,write,value 0) - Выключить автоматический пуск инвертора
528 (int16,write,value 1) - Включить автоматический пуск инвертора

## Уставки статического ключа
777 (int16,write) - Минимальное напряжение резервной сети, В
778 (int16,write) - Максимальное напряжение резервной сети, В
779 (int16,write) - Допуск частоты резервной сети, Гц
780 (int16) - Режим работы #Режим 1 (Online) - 0, Режим 2 (Offline) - 1, Режим 3 (Eco для не ответственных нагрузок) - 2
780 (int16,write,value 0) - Установить режим работы 1 статического ключа 
780 (int16,write,value 1) - Установить режим работы 2 статического ключа 
780 (int16,write,value 2) - Установить режим работы 3 статического ключа 
781 (int16,write) - Минимальное напряжение резервной сети для 3-го режима, %

// Чтение данных
// 1095
// 518-519
// 520-521
// 522-523
// 525-526
// 527-528
// 777-778
// 779-780
// 781

## Выравнивающий заряд батареи
*Команды*
736 (int16,write,value 1) - Разрешить выравнивающий заряд
736 (int16,write,value 0) - Запретить выравнивающий заряд
cmd (int16,write 181 182 183,value 0 767 406) - Начать выравнивающий заряд

*Статусы*
736.0 (int16) - Выравнивающий заряд #0 - Не активен, 1 - Активен

*Параметры*
642 (int16,write) - Заданное значение выходного напряжения на повышенном уровне, В
646 (int16,write) - Стабилизация напряжения на повышенном уровне, мин

// Чтение данных
// 642
// 646
// 736

## Термокомпенсация батареи
656 (int16,write) - Базовая температура АБ, °C
643 (int16,write) - Термокомпенсация на 1°C (1=100мВ) в- от базовой температуры, В х 10
657 (int16,write) - Термокомпенсация на 1°C (1=100мВ) в+ от базовой температуры, В х 10
658 (int16) - Режим термокомпенсации # 0 - Выключена, 1 - Включена
658 (int16,write,value 0) - Выключить режим термокомпенсации
658 (int16,write,value 1) - Включить режим термокомпенсации

// Чтение данных
// 656-657
// 658
// 643

## Тест батареи
*Команды*
cmd (int16,write 6 181 182 183, value 0 767 801) - Запустить тест АБ
cmd (int16,write 6 181 182 183, value 0 767 802) - Прервать тест АБ
670 (int16,write,value 0) - Отключить периодичность теста
670 (int16,write,value 1) - Включить  периодичность теста - ежедневно
670 (int16,write,value 2) - Включить периодичность теста - еженедельно
670 (int16,write,value 3) - Включить периодичность теста - ежемесячно
670 (int16,write,value 4) - Включить периодичность теста - ежегодно
671 (int16,write,value 0) - Установить тип теста - Ач
671 (int16,write,value 1) - Установить тип теста - Втч

*Статусы*
1184 (float16) - Напряжение АБ в начале теста, В
1183 (float16) - Напряжение АБ в конце теста, В
1185 (float16) - Отобранная емкость, А*ч
1186 (float16) - Отобранная мощность, кВт*ч
1181 (int16) - Текущее время теста АБ, часы
1180 (int16) - Текущее время теста АБ, минуты
732 (int32) - Последний тест АБ (дата и время упакованное в int32)
148.14 (int16) - Батарея тестируется #0 - Нет, 1 - Да
670 (int16) - Периодичность теста #0 - Отключено, 1 - Ежедневно, 2 - Еженедельно, 3 - Ежемесячно, 4 - Ежегодно
671 (int16) - Тип теста #0 - Ач, 1 - Втч

*Параметры*
659 (int16,write) - Полная ёмкость АБ, Ач
660 (int16,write) - Отбираемая емкость/мощность, Ач/Втч
661 (int16,write) - Продолжительность теста АБ по времени, с
662 (int16,write) - Напряжение низкого заряда АБ, В
663 (int16,write) - Напряжение глубокого разряда АБ, В
664 (int16,write) - Время реакции АБ, с
665 (int16,write) - Минута начала теста
666 (int16,write) - Час начала теста
667 (int16,write) - День недели начала теста
668 (int16,write) - Дата начала теста
669 (int16,write) - Месяц начала теста

// Чтение данных
// 1183-1184
// 1185-1186
// 1180-1181
// 732-733
// 659-660
// 661-662
// 663-664
// 665-666
// 667-668
// 669-670
// 671

## Калибровка
### Инвертор и статический ключ

*Напряжение инвертора*
1024 (float16) - Величина напряжения инвертора фаза A, В
180 (float16,write 6 178 179, value 0 512) - Уставка величины напряжения инвертора фаза A, В
1088 (int16,write) - АЦП напряжения инвертора фаза А
cmd (int16,write 6 178 179 180, value 1 512 0) - Установить ноль напряжения инвертора фаза А

1025 (float16) - Величина напряжения инвертора фаза B, В
180 (float16,write 6 178 179, value 0 513) - Уставка величины напряжения инвертора фаза B, В
1089 (int16,write) - АЦП напряжения инвертора фаза B
cmd (int16,write 6 178 179 180, value 1 513 0) - Установить ноль напряжения инвертора фаза B

1026 (float16) - Величина напряжения инвертора фаза C, В
180 (float16,write 6 178 179, value 0 514) - Уставка величины напряжения инвертора фаза C, В
1090 (int16,write) - АЦП напряжения инвертора фаза C
cmd (int16,write 6 178 179 180, value 1 514 0) - Установить ноль напряжения инвертора фаза C

*Напряжение на выходе*
1283 (float16) - Величина напряжения на выходе фаза A, В
186 (float16,write 6 184 185, value 0 771) - Уставка величины напряжения на выходе фаза A, В
1347 (int16,write) - АЦП напряжения на выходе фаза A
cmd (int16,write 6 184 185 186, value 1 771 0) - Установить ноль напряжения на выходе фаза A

1284 (float16) - Величина напряжения на выходе фаза B, В
186 (float16,write 6 184 185, value 0 772) - Уставка величины напряжения на выходе фаза B, В
1348 (int16,write) - АЦП напряжения на выходе фаза B
cmd (int16,write 6 184 185 186, value 1 772 0) - Установить ноль напряжения на выходе фаза B

1285 (float16) - Величина напряжения на выходе фаза C, В
186 (float16,write 6 184 185, value 0 773) - Уставка величины напряжения на выходе фаза C, В
1349 (int16,write) - АЦП напряжения на выходе фаза C
cmd (int16,write 6 184 185 186, value 1 773 0) - Установить ноль напряжения на выходе фаза C


*Напряжение резерва*
1280 (float16) - Величина напряжения резерва фаза A, В
186 (float16,write 6 184 185, value 0 768) - Уставка величины напряжения резерва фаза A, В
1344 (int16,write) - АЦП напряжения резерва фаза A
cmd (int16,write 6 184 185 186, value 1 768 0) - Установить ноль напряжения резерва фаза A

1281 (float16) - Величина напряжения резерва фаза B, В
186 (float16,write 6 184 185, value 0 769) - Уставка величины напряжения резерва фаза B, В
1345 (int16,write) - АЦП напряжения резерва фаза B
cmd (int16,write 6 184 185 186, value 1 769 0) - Установить ноль напряжения резерва фаза B

1282 (float16) - Величина напряжения резерва фаза C, В
186 (float16,write 6 184 185, value 0 770) - Уставка величины напряжения резерва фаза C, В
1346 (int16,write) - АЦП напряжения резерва фаза C
cmd (int16,write 6 184 185 186, value 1 770 0) - Установить ноль напряжения резерва фаза C


*Ток инвертора*
1027 (float16) - Величина тока инвертора фаза А, А
180 (float16,write 6 178 179, value 0 515) - Уставка величины тока инвертора фаза А, А
1091 (int16,write) - АЦП тока инвертора фаза А
cmd (int16,write 6 178 179 180, value 1 515 0) - Установить ноль тока инвертора фаза А

1028 (float16) - Величина тока инвертора фаза B, А
180 (float16,write 6 178 179, value 0 516) - Уставка величины тока инвертора фаза B, А
1092 (int16,write) - АЦП тока инвертора фаза B
cmd (int16,write 6 178 179 180, value 1 516 0) - Установить ноль тока инвертора фаза B

1029 (float16) - Величина тока инвертора фаза C, А
180 (float16,write 6 178 179, value 0 517) - Уставка величины тока инвертора фаза C, А
1093 (int16,write) - АЦП тока инвертора фаза C
cmd (int16,write 6 178 179 180, value 1 517 0) - Установить ноль тока инвертора фаза C


*Ток выхода*
1286 (float16) - Величина тока на выходе фаза А, А
186 (float16,write 6 184 185, value 0 774) - Уставка величины тока на выходе фаза А, А
1350 (int16,write) - АЦП тока на выходе фаза А
cmd (int16,write 6 184 185 186, value 1 774 0) - Установить ноль тока на выходе фаза А

1287 (float16) - Величина тока на выходе фаза B, А
186 (float16,write 6 184 185, value 0 775) - Уставка величины тока на выходе фаза B, А
1351 (int16,write) - АЦП тока на выходе фаза B
cmd (int16,write 6 184 185 186, value 1 775 0) - Установить ноль тока на выходе фаза B

1288 (float16) - Величина тока на выходе фаза C, А
186 (float16,write 6 184 185, value 0 776) - Уставка величины тока на выходе фаза C, А
1352 (int16,write) - АЦП тока на выходе фаза C
cmd (int16,write 6 184 185 186, value 1 776 0) - Установить ноль тока на выходе фаза C

// Чтение данных
// 1024-1025
// 1026-1027
// 1028-1029
// 1088-1089
// 1090-1091
// 1092-1093
// 1280-1281
// 1282
// 1283-1284
// 1285-1286
// 1287-1288
// 1344-1345
// 1346
// 1347-1348
// 1349-1350
// 1351-1352



### Выпрямитель
*Напряжение выпрямителя*
693 (float32,write) - Коэффициент напряжения выпрямителя фаза A
1162 (int16,write) - АЦП напряжения выпрямителя фаза A
1152 (float16) - Величина напряжения выпрямителя фаза А, В
183 (float16,write 6 181 182,value 0 693) - Уставка величины напряжения выпрямителя фаза А, В
719 (int16,write) - Ноль напряжения выпрямителя фаза А
cmd (int16,write 6 181 182 183, value 1 693 0) - Установить ноль напряжения выпрямителя фаза А

695 (float32,write) - Коэффициент напряжения выпрямителя фаза B
1163 (int16,write) - АЦП напряжения выпрямителя фаза B
1153 (float16) - Величина напряжения выпрямителя фаза B, В
183 (float16,write 6 181 182,value 0 695) - Уставка величины напряжения выпрямителя фаза B, В
720 (int16,write) - Ноль напряжения выпрямителя фаза B
cmd (int16,write 6 181 182 183, value 1 695 0) - Установить ноль напряжения выпрямителя фаза B

697 (float32,write) - Коэффициент напряжения выпрямителя фаза C
1164 (int16,write) - АЦП напряжения выпрямителя фаза C
1154 (float16) - Величина напряжения выпрямителя фаза C, В
183 (float16,write 6 181 182,value 0 697) - Уставка величины напряжения выпрямителя фаза C, В
721 (int16,write) - Ноль напряжения выпрямителя фаза C
cmd (int16,write 6 181 182 183, value 1 697 0) - Установить ноль напряжения выпрямителя фаза C


*Напряжение на выходе выпрямителя (Ud)*
705 (float32,write) - Коэффициент напряжения на выходе выпрямителя
1168 (int16,write) - АЦП напряжения на выходе выпрямителя
1156 (float16) - Величина напряжения на выходе выпрямителя В
183 (float16,write 6 181 182,value 0 705) - Уставка величины напряжения на выходе выпрямителя, В
725 (int16,write) - Ноль напряжения на выходе выпрямителя
cmd (int16,write 6 181 182 183, value 1 705 0) - Установить ноль напряжения на выходе выпрямителя


*Ток выпрямителя*
699 (float32,write) - Коэффициент тока выпрямителя фаза А
1165 (int16, write) - АЦП тока выпрямителя фаза А
1196 (float16) - Величина тока выпрямителя фаза А, A
183 (float16,write 181 182, value 0 699) - Уставка величины тока выпрямителя фаза А, A
722 (int16,write) - Ноль тока выпрямителя фаза А
cmd (int16,write 181 182 183, value 1 699 0) - Установить ноль тока выпрямителя фаза А

701 (float32,write) - Коэффициент тока выпрямителя фаза B
1166 (int16, write) - АЦП тока выпрямителя фаза B
1197 (float16) - Величина тока выпрямителя фаза B, A
183 (float16,write 181 182, value 0 701) - Уставка величины тока выпрямителя фаза B, A
723 (int16, write) - Ноль тока выпрямителя фаза B
cmd (int16,write 181 182 183, value 1 701 0) - Установить ноль тока выпрямителя фаза B

703 (float32,write) - Коэффициент тока выпрямителя фаза C
1167 (int16, write) - АЦП тока выпрямителя фаза C
1198 (float16) - Величина тока выпрямителя фаза C, A
183 (float16,write 181 182, value 0 703) - Уставка величины тока выпрямителя фаза C, A
724 (int16, write) - Ноль тока выпрямителя фаза C
cmd (int16,write 181 182 183, value 1 703 0) - Установить ноль тока выпрямителя фаза C

*Ток батареи*
707 (float32,write) - Коэффициент тока батареи
1169 (int16, write) - АЦП тока батареи
1158 (float16) - Величина тока батареи, A
183 (float16,write 181 182, value 0 707) - Уставка величины тока батареи, A
726 (int16, write) - Ноль тока батареи
cmd (int16,write 181 182 183, value 1 707 0) - Установить ноль тока батареи

*Температура батареи*
709 (float32,write) - Коэффициент температуры батареи
1441 (int16, write) - АЦП температуры батареи
1188 (float16) - Величина температуры батареи, °C
183 (float16,write 181 182, value 0 709) - Уставка величины температуры батареи, °C
727 (int16, write) - Ноль температуры батареи
cmd (int16,write 181 182 183, value 1 709 0) - Установить ноль температуры батареи

*Температура*
713 (float32,write) - Коэффициент температуры
1203 (int16, write) - АЦП температуры
1202 (float16) - Величина температуры, °C
183 (float16,write 181 182, value 0 713) - Уставка величины температуры, °C
729 (int16, write) - Ноль температуры
cmd (int16,write 181 182 183, value 1 713 0) - Установить ноль батареи


// 693-694
// 695-696
// 697-698
// 699-700
// 701-702
// 703-704
// 705-706
// 707-708
// 709-710
// 713-714
// 719-720
// 721-722
// 723-724
// 725-726
// 727
// 729

// 1152-1153
// 1154
// 1156
// 1158
// 1162-1163
// 1164
// 1165-1166
// 1167-1168
// 1169

// 1188
// 1196-1197
// 1198
// 1202-1203
// 1441


### Параметры UART

930 (int16) - Скорость передачи данных #0 - 4800, 1 - 9600, 2 - 14400, 3 - 19200, 4 - 38400, 5 - 57600, 6 - 115200
189 (int16, write 187 188, value 0 930, cmd 0) - Установить скорость передачи данных 4800
189 (int16, write 187 188, value 0 930, cmd 1) - Установить скорость передачи данных 9600
189 (int16, write 187 188, value 0 930, cmd 2) - Установить скорость передачи данных 14400
189 (int16, write 187 188, value 0 930, cmd 3) - Установить скорость передачи данных 19200
189 (int16, write 187 188, value 0 930, cmd 4) - Установить скорость передачи данных 38400
189 (int16, write 187 188, value 0 930, cmd 5) - Установить скорость передачи данных 57600
189 (int16, write 187 188, value 0 930, cmd 6) - Установить скорость передачи данных 115200

929 (int16) - Интерфейс передачи #0 - RS422, 1 - RS485
189 (int16, write 187 188, value 0 929, cmd 0) - Установить интерфейс 422
189 (int16, write 187 188, value 0 929, cmd 1) - Установить интерфейс 485

928 (int16) - Адрес modbus
189 (int16, write 187 188, value 0 928) - Установить адрес modbus

// Чтение данных
// 928-930
// 1145-1150


